<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-30 月 23:11 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Masataro Asai" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="css/layout.css" />
<link rel="stylesheet" type="text/css" href="css/default.css" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jquery.loupe.min.js"></script>
<script type="text/javascript" src="js/jgestures/jgestures.min.js"></script>
<script type="text/javascript" src="js/code.js"></script>
<script type="text/javascript" src="MathJax/MathJax.js"></script>
<script type="text/javascript" src="js/mathjaxconf.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div class="outline-text-1">
<div class="org-center">
<div class="xlarge">
<p>
Diversification Mechanisms
</p>

<p>
for Best-First Search
</p>

<p>
(最良優先探索のための
</p>

<p>
探索非局在化手法)
</p>

</div>
<div class="larger">
<p>
Masataro Asai, The University of Tokyo 
</p>

<p>
(Advisor: Alex Fukunaga)
</p>

</div>
</div>
<div class="note">
<div class="alignright">
<p>

</p>

</div>

</div>

<div class="resume">

</div>

</div>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4"><span class="section-number-2">1</span> 背景: 大規模なグラフでの経路探索</h2>
<div class="outline-text-2" id="text-1">

<div class="figure">
<p><img src="img/graphsearch-purpose.png" alt="graphsearch-purpose.png" />
</p>
</div>
</div>

<div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> 古典プランニング問題 (決定的,完全情報) &#x2013; Blocksworld&#xa0;&#xa0;&#xa0;<span class="tag"><span class="3min">3min</span></span></h3>
<div class="outline-text-3" id="text-1-1">
<embed src="img/plan.svg" type="image/svg+xml"  />
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> アクション = 条件付き状態遷移</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-center">
<div class="xlarge">
<p>
アクション (move ?X ?Y)
</p>

</div>
</div>

<div class="org-center">
<p>
<b>?X</b>, <b>?Y</b> : 変数。 値 <b>BLOCK-A</b>, <b>BLOCK-B</b> などを適用して使う
</p>

<p>
<b>条件</b> と <b>効果</b> で構成される
</p>
</div>


<div class="container-fluid">
<div class="row-fluid">
<div class="span7">
<blockquote>
<p>
<b>条件</b> : 実行に必要な条件を表す命題
</p>

<p>
　(clear <b>?X</b>) : 積み木 <b>?X</b> の上が空
</p>

<p>
　(clear <b>?Y</b>) : 積み木 <b>?Y</b> の上に空
</p>

<p>
<b>効果</b> : 前後の状態の <b>差分</b> を表す命題
</p>

<p>
　(on <b>?X</b> <b>?Y</b>) を <b>追加</b> : <b>?Y</b> の上は <b>?X</b>
</p>

<p>
　(clear <b>?Y</b>) を <b>削除</b>
</p>
</blockquote>

</div>
<div class="span5">
<div class="org-src-container">

<pre class="src src-lisp">(<span style="color: #483d8b;">:action</span> move
 <span style="color: #483d8b;">:parameters</span> (?X ?Y)
 <span style="color: #483d8b;">:preconditions</span>
   (and (clear ?X)   <span style="color: #b22222;">; (1)</span>
        (clear ?Y))  <span style="color: #b22222;">; (2)</span>

 <span style="color: #483d8b;">:effect</span>
   (and (on ?X ?Y)   <span style="color: #b22222;">; (3)</span>
        (not         <span style="color: #b22222;">; (4)</span>
         (clear ?Y))))
</pre>
</div>
<div class="alignright">
<div class="larger">
<p>
モデリング言語 <b>PDDL</b> で記述
</p>

</div>

</div>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-3">
<h3 id="orgheadline3"><span class="section-number-3">1.3</span> プランニング = グラフ探索</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<b>ノード</b> : 状態 = 命題の集合 ⇒ <code>(on A B)</code>, <code>(clear A)</code> など
</p>

<p>
<b>辺</b>     : アクション ⇒ <code>(move A B)</code> 等
</p>


<div class="figure">
<p><img src="img/graph.png" alt="graph.png" />
</p>
</div>

<div class="note">
<p>
*1 [Helmert, 2006] [Richter, 2010]
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-2">
<h2 id="orgheadline5"><span class="section-number-2">2</span> 発表概要</h2>
<div class="outline-text-2" id="text-2">
<p>
上記の <b>グラフ上の知識あり経路探索</b> のための高速化手法と解析
</p>

<p>
最良優先探索アルゴリズム の <b><i>探索非局在化手法</i></b> による高速化を研究
</p>

<ul class="org-ul">
<li>(3章) A* のタイブレークと探索空間の分析</li>

<li>(4章) タイブレークによる A* の高速化</li>

<li>(5章) 最適解探索のタイブレークを理解する新しい枠組み、それによる高速化</li>

<li>(6章) 充足解探索の タイブレーク手法 と 探索非局在化手法 の統合、それによる高速化</li>

<li>(7章) BIP:新たな非局在化手法を用いた高速化</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline20" class="outline-2">
<h2 id="orgheadline20"><span class="section-number-2">3</span> (3章) A*のタイブレークの分析</h2>
<div class="outline-text-2" id="text-3">
<div class="larger">
<p>
<b>グラフの最小コスト経路探索</b>:
</p>

</div>

<div class="container-fluid">
<div class="row-fluid">
<div class="span7">
<p>

</p>


<div class="figure">
<p><img src="img/graphsearch.png" alt="graphsearch.png" />
</p>
</div>

</div>
<div class="span5">
<p>

</p>

<div class="larger">
<div class="org-center">
<p>

</p>


<p>
<b>初期ノード</b> から
</p>

<p>
<b>ゴールノード</b> への
</p>

<p>
<b>最小コスト経路探索</b>
</p>
</div>

</div>

</div>

</div>

</div>
</div>

<div id="outline-container-orgheadline6" class="outline-3">
<h3 id="orgheadline6"><span class="section-number-3">3.1</span> 最小コスト経路探索 の主要な手法 が A*</h3>
<div class="outline-text-3" id="text-3-1">

<div class="figure">
<p><img src="img/astar.png" alt="astar.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-3">
<h3 id="orgheadline7"><span class="section-number-3">3.2</span> A*におけるタイブレーキング:</h3>
<div class="outline-text-3" id="text-3-2">

<div class="figure">
<p><img src="img/astar-emph.png" alt="astar-emph.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-3">
<h3 id="orgheadline8"><span class="section-number-3">3.3</span> タイブレーキングに関する「常識」</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-center">
<p>
<b>同じ <i>f<sub>min</sub></i> なノードが複数あったときどうする?</b>
</p>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><i>1968 Hart, Nilsson and Raphael</i> →</th>
<th scope="col" class="org-left"><b><i>h</i>-based tiebreaking</b> [ <i>h</i> ] :</th>
</tr>

<tr>
<th scope="col" class="org-left">(<b><i>最初のA*の論文</i></b>)</th>
<th scope="col" class="org-left">　　 &#x2013; h値が小さなものを選択</th>
</tr>

<tr>
<th scope="col" class="org-left"><i>1984 Pearl</i> (<b><i>教科書</i></b>)     →</th>
<th scope="col" class="org-left">*"Break ties arbitrarily"* :</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">　　 &#x2013; 「どの手法でも性能にあまり影響しない」</th>
</tr>

<tr>
<th scope="col" class="org-left"><i>1985 Korf</i>         →</th>
<th scope="col" class="org-left"><b>LIFO tiebreaking</b> [LIFO] :</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">　　 &#x2013; 最後に生成したノードを選択</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>最近は&#x2026;</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><i>2007 Hansen and Zhou</i></td>
<td class="org-left">[ <i>h</i> ] "が一番うまく行くと</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">　　　　　　一般的に知られている"</td>
</tr>

<tr>
<td class="org-left"><i>2010 Holte</i></td>
<td class="org-left">[ <i>h</i> ] "がよく使われる"</td>
</tr>
</tbody>
</table>

<div class="alignright">
<div class="larger">
<p>
<b>[ <i>h</i> ] タイブレーキングが「常識」→ だが、本当に正しいのか？</b>
</p>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-3">
<h3 id="orgheadline9"><span class="section-number-3">3.4</span> そもそも [ <i>h</i> ] は タイブレークの指定として不十分</h3>
<div class="outline-text-3" id="text-3-4">
<p>
<i><b>f</b></i> も <i><b>h</b></i> も同じノードが複数ある場合どうするのか?
</p>

<p>
→ <b>二段階のタイブレーク法 <i>X</i> が必要</b>  : 配列表記して [ <i>h</i> , <b><i>X</i></b> ]
</p>

<p>
(例) <b>[</b> <i><b>h</b></i> , <b><i>LIFO</i> ]</b> を使うA*の動作とは?
</p>

<ul class="org-ul">
<li>常に <i><b>f<sub>min</sub></b></i> なノードを選ぶ。</li>
<li><b>ただし</b> 複数ノードが <i><b>f<sub>min</sub></b></i> なら, <i><b>h<sub>min</sub></b></i> のノードを選ぶ (第一段階).</li>
<li><p>
<b>まだ</b> 複数のノードがあるなら, LIFOに従い最後に生成したノードを選ぶ (第二段階).
</p>
<div class="alignright">
<div class="smaller">
<p>
( LIFO キューは常に1つのノードを返すのでコレ以上は必要なし )
</p>

</div>

</div></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">古典プランニングState-of-the-Art Fast Downward</td>
<td class="org-left">[ <i>h</i>, <b>FIFO</b> (<b>論文に明記なし</b>)]</td>
</tr>

<tr>
<td class="org-left"><i>(Richter et.al, 2010)</i></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">15/24パズルのState-of-the-Art ソルバ</td>
<td class="org-left">[ <i>h</i>, <b>LIFO</b> (<b>論文に明記なし</b>)]</td>
</tr>

<tr>
<td class="org-left"><i>(2012 Burns et.al.)</i></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="alignright">
<div class="larger">
<ul class="org-ul">
<li><p>
実装の詳細であり <b>書くほどのことでもない</b> という認識
</p>

<p>
(下界関数の改善やA*自体の拡張など他に注目しがち)
</p></li>
</ul>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-3">
<h3 id="orgheadline10"><span class="section-number-3">3.5</span> 実際は、 タイブレーク法は <i>重要</i>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="____">ゆっくり</span></span></h3>
<div class="outline-text-3" id="text-3-5">
<p>
標準ベンチマーク問題集では、
</p>

<div class="larger">
<div class="org-center">
<p>
<b>探索時間のほとんどは</b> <b><i>タイブレークのみによって制御される</i>.</b>
</p>
</div>

</div>

<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/without-h-nokey.png" alt="without-h-nokey.png" />
</p>
</div>

</div>
<div class="span6">
<p>

</p>

<div class="larger">
<div class="org-center">
<p>
<b>探索空間中 ほとんどの</b>
</p>

<p>
<b>ノードが f=f<sup>*</sup></b> (<b>Final Plateau</b>).
</p>

<div class="smaller">
<p>
(<b>Plateau</b> = 同じf値を持つノード集合.
小さい順に探索して最後だからFinal)
</p>

</div>
</div>

<p>
　
</p>

<div class="org-center">
<p>
<b>A*の挙動のほとんどは</b>
</p>

<p>
<b>実はタイブレークだけによって決まる。</b>
</p>
</div>

</div>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-3">
<h3 id="orgheadline11"><span class="section-number-3">3.6</span> 第二段階のタイブレークは重要か？</h3>
<div class="outline-text-3" id="text-3-6">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-center">Tiebreaking</th>
<th scope="col" class="org-center">説明</th>
<th scope="col" class="org-center">Solved</th>
</tr>

<tr>
<th scope="col" class="org-center">［criterion<sub>1</sub>, criterion<sub>2</sub> ］</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">Instances</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-center">［ <i>h</i>,  <b>FIFO</b> ］</td>
<td class="org-center"><b>Fast Downwardの標準設定</b></td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-center">［ <i>h</i>,  <b>LIFO</b> ］</td>
<td class="org-center">同じ <i><b>f<sub>min</sub></b></i> → 最小の <i><b>h</b></i> を選ぶ</td>
<td class="org-center">&#xa0;</td>
</tr>

<tr>
<td class="org-center">&#xa0;</td>
<td class="org-center">同じ <i><b>h<sub>min</sub></b></i> → <b>LIFO</b> で選ぶ</td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="alignright">
<p>
1104題の IPC (International Planning Competition) ベンチマーク問題集
</p>

<p>
30min, 2GB の資源制限 ヒューリスティック関数は Landmark-Cut (Helmert2008)
</p>

<p>
Fast Downward : State-of-the-Art 探索ソルバの名前
</p>

<p>
　
</p>

<p>
　
</p>

</div>
</div>
</div>

<div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">3.7</span> 第二段階のタイブレークは重要か？ → 重要だった!</h3>
<div class="outline-text-3" id="text-3-7">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-center">Tiebreaking</th>
<th scope="col" class="org-center">説明</th>
<th scope="col" class="org-center">Solved</th>
</tr>

<tr>
<th scope="col" class="org-center">［criterion<sub>1</sub>, criterion<sub>2</sub> ］</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">Instances</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-center">［ <i>h</i>,  <b>FIFO</b> ］</td>
<td class="org-center"><b>Fast Downwardの標準設定</b></td>
<td class="org-center">558</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-center">［ <i>h</i>,  <b>LIFO</b> ］</td>
<td class="org-center">同じ <i><b>f<sub>min</sub></b></i> → 最小の <i><b>h</b></i> を選ぶ</td>
<td class="org-center"><b>565</b></td>
</tr>

<tr>
<td class="org-center">&#xa0;</td>
<td class="org-center">同じ <i><b>h<sub>min</sub></b></i> → <b>LIFO</b> で選ぶ</td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="alignright">
<p>
1104題の IPC (International Planning Competition) ベンチマーク問題集
</p>

<p>
30min, 2GB の資源制限 ヒューリスティック関数は Landmark-Cut (Helmert2008)
</p>

<p>
Fast Downward : State-of-the-Art 探索ソルバの名前
</p>

<div class="larger">
<p>
<b>［h, LIFO ］ は ［h, FIFO ］ より速い</b>
</p>

</div>

<p>
<b>第二タイブレークは重要!</b>
</p>

</div>
</div>
</div>

<div id="outline-container-orgheadline13" class="outline-3">
<h3 id="orgheadline13"><span class="section-number-3">3.8</span> いつどのように早い？ ドメイン (問題セット) ごとに比較</h3>
<div class="outline-text-3" id="text-3-8">
<div class="org-center">
<p>
( 1104題 = (20〜50問)×(35種類の問題集))
</p>
</div>

<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/lifo-vs-fifo.png" alt="lifo-vs-fifo.png" />
</p>
</div>

</div>
<div class="span6">
<p>

</p>

<div class="org-center">
<p>
違いが出たドメインは
</p>

<div class="larger">
<p>
<b>Openstacks</b> &amp; <b>Cybersec</b>
</p>

</div>

<p>
<b>LIFO は FIFO より 10 倍速い</b>
</p>

<p>
(他のドメインでは凡そ同じ)
</p>

<p>
　
</p>

<p>
　
</p>
</div>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">3.9</span> <i>Openstacks</i> &amp; <i>Cybersec</i> は何が特別なのか?</h3>
<div class="outline-text-3" id="text-3-9">
<ul class="org-ul">
<li>多くのIPCベンチマークドメインは アクションのコスト=1 (パズルが多い)

<ul class="org-ul">
<li><b>「トラックのドアを開く」と「運転」のコストが同じ? → 不自然</b></li>
</ul></li>

<li>一方 Openstacks/Cybersec: 多くの <b>ゼロコスト エッジ</b> が含まれる

<ul class="org-ul">
<li><b>実問題に近い</b> 、限定された資源を最小化するモデルになっている</li>

<li><p>
<b>輸送・配達問題</b> を <b>燃料を最小化する</b> ようにモデル化
</p>
<div class="alignright">
<p>
「運転」アクション以外は <b>ゼロコスト</b> (例: 荷物の受け渡しに燃料は必要ない)
</p>

</div></li>
<li><p>
<b>Openstacks は 工場で同時生産する製品数を最小化</b> (Fink and Voss, 1999)
</p>
<div class="alignright">
<p>
製品ごとに専有区画 <b>stack</b> を消費。 <b>stack</b> を使わない行為はゼロコスト
</p>

</div></li>
<li><p>
<b>Cybersec(urity) も実問題由来</b> (BAMS 検証システム, Boddy et. al. 2005)
</p>
<div class="alignright">
<p>
企業ネットワークを自動攻撃, データ奪取に必要なパスワード解析回数を最小化
</p>

</div></li>
</ul></li>
</ul>

<div class="note">
<p>
Parametric Complexity Theory では, プランニング問題が
ゼロコストを含む場合はPara-NP-hard, 正コストのみの場合 W2-complete (Aghighi 2015)
</p>

</div>
</div>
</div>

<div id="outline-container-orgheadline15" class="outline-3">
<h3 id="orgheadline15"><span class="section-number-3">3.10</span> ゼロコストがあると <i><b>h</b></i> によるタイブレークが働かない</h3>
<div class="outline-text-3" id="text-3-10">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/with-h-nokey.png" alt="with-h-nokey.png" />
</p>
</div>

</div>
<div class="span6">
<p>

</p>

<div class="org-center">
<p>
← 前回の絵より狭い定義の <b>final plateau</b> : <b>f=f<sup>*</sup></b>, <b>h=0</b>
</p>

<p>
<b>Openstacks</b> と <b>Cybersec</b> では
</p>

<p>
ほぼ全てのノードが <b>h=0</b>.
</p>

<div class="larger">
<p>
<b>⇒ <i>h</i>-タイブレーキングは</b>
</p>

<p>
<b>全く効果がない</b>
</p>

</div>

<div class="larger">
<p>
<b>⇒探索は <i>第二タイブレーク法</i></b>
</p>

<p>
<b><i>LIFO or FIFO だけが支配</i></b>
</p>

</div>
</div>

</div>

</div>

</div>

<div class="alignright">
<p>
<b>LIFOを上回る性能を達成するためには, このFinal Plateauの分析が必要。</b>
</p>

</div>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-3">
<h3 id="orgheadline16"><span class="section-number-3">3.11</span> Final Plateau の分析</h3>
<div class="outline-text-3" id="text-3-11">

<div class="figure">
<p><img src="img/final-plateau0.png" alt="final-plateau0.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">3.12</span> Final Plateau の分析</h3>
<div class="outline-text-3" id="text-3-12">

<div class="figure">
<p><img src="img/final-plateau.png" alt="final-plateau.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18"><span class="section-number-3">3.13</span> Final Plateau の分析</h3>
<div class="outline-text-3" id="text-3-13">

<div class="figure">
<p><img src="img/final-plateau2.png" alt="final-plateau2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19"><span class="section-number-3">3.14</span> ほぼ全ての辺がゼロコストだと&#x2026;</h3>
<div class="outline-text-3" id="text-3-14">

<div class="figure">
<p><img src="img/final-plateau3.png" alt="final-plateau3.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline34" class="outline-2">
<h2 id="orgheadline34"><span class="section-number-2">4</span> (4章) Plateau の中の Depth (深さ) を用いた A* の高速化</h2>
<div class="outline-text-2" id="text-4">

<div class="figure">
<p><img src="img/final-plateau4.png" alt="final-plateau4.png" />
</p>
</div>

<p>
初期ノードからの深さとは異なる
</p>
</div>

<div id="outline-container-orgheadline23" class="outline-3">
<h3 id="orgheadline23"><span class="section-number-3">4.1</span> Depthは解の最適性に影響しない</h3>
<div class="outline-text-3" id="text-4-1">
<p>
Final Plateau f=f<sup>*</sup> では, <b>どのゴールもコスト最適</b> で、深さは関係ない
</p>

<div class="alignright">
<p>
← <b>どの辺もゼロコストだから.</b>
</p>

</div>


<div class="figure">
<p><img src="img/final-plateau4-2.png" alt="final-plateau4-2.png" />
</p>
</div>

<div class="alignright">
<div class="larger">
<p>
従って <b>探索する時に深さに偏りがあるのは良くない.</b>
</p>

</div>

</div>
</div>

<div id="outline-container-orgheadline21" class="outline-4">
<h4 id="orgheadline21"><span class="section-number-4">4.1.1</span> 例えば: 常に浅いところから探索するのは良くない</h4>
<div class="outline-text-4" id="text-4-1-1">

<div class="figure">
<p><img src="img/final-plateau5.png" alt="final-plateau5.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline22" class="outline-4">
<h4 id="orgheadline22"><span class="section-number-4">4.1.2</span> 例えば: 常に深いところから探索するのも良くない</h4>
<div class="outline-text-4" id="text-4-1-2">

<div class="figure">
<p><img src="img/final-plateau6.png" alt="final-plateau6.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline24" class="outline-3">
<h3 id="orgheadline24"><span class="section-number-3">4.2</span> <b><i>深さ非局在化</i></b> : 乱択深さ (Random Depth) Tiebreaking</h3>
<div class="outline-text-3" id="text-4-2">

<div class="figure">
<p><img src="img/final-plateau7.png" alt="final-plateau7.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline25" class="outline-3">
<h3 id="orgheadline25"><span class="section-number-3">4.3</span> Woodworking問題での深さの分布</h3>
<div class="outline-text-3" id="text-4-3">
<div class="org-center">

<div class="figure">
<p>
 <img src="img/depth-distribution0.png" alt="depth-distribution0.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline26" class="outline-3">
<h3 id="orgheadline26"><span class="section-number-3">4.4</span> Woodworking問題での深さの分布</h3>
<div class="outline-text-3" id="text-4-4">
<div class="org-center">

<div class="figure">
<p>
 <img src="img/depth-distribution1.png" alt="depth-distribution1.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline27" class="outline-3">
<h3 id="orgheadline27"><span class="section-number-3">4.5</span> Woodworking問題での深さの分布</h3>
<div class="outline-text-3" id="text-4-5">
<div class="org-center">

<div class="figure">
<p>
 <img src="img/depth-distribution2.png" alt="depth-distribution2.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline28" class="outline-3">
<h3 id="orgheadline28"><span class="section-number-3">4.6</span> Woodworking問題での深さの分布</h3>
<div class="outline-text-3" id="text-4-6">
<div class="org-center">

<div class="figure">
<p>
 <img src="img/depth-distribution3.png" alt="depth-distribution3.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline29" class="outline-3">
<h3 id="orgheadline29"><span class="section-number-3">4.7</span> Iterative Depth: RandomDepth の決定的バージョン</h3>
<div class="outline-text-3" id="text-4-7">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #a020f0;">class</span> <span style="color: #228b22;">DepthBuckets</span>:
    <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">__init__</span>(<span style="color: #a020f0;">self</span>):
        <span style="color: #a020f0;">self</span>.buckets = []
        <span style="color: #a020f0;">self</span>.depth = 0       <span style="color: #b22222;"># </span><span style="color: #b22222;">&#20869;&#37096;&#12459;&#12454;&#12531;&#12479;</span>
    <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">insert</span>(<span style="color: #a020f0;">self</span>, elem):
        <span style="color: #a020f0;">self</span>.buckets[elem.parent.depth+1].append(elem)
    <span style="color: #a020f0;">def</span> <span style="color: #0000ff;">expand</span>(<span style="color: #a020f0;">self</span>):
        <span style="color: #a0522d;">node</span> = <span style="color: #a020f0;">self</span>.buckets[<span style="color: #a020f0;">self</span>.depth].pop()
        <span style="color: #a020f0;">self</span>.depth = <span style="color: #a020f0;">self</span>.depth - 1
        <span style="color: #a020f0;">if</span> (<span style="color: #a020f0;">self</span>.depth &lt; 0):               <span style="color: #b22222;"># </span><span style="color: #b22222;">&#28145;&#12373;0&#12395;&#21040;&#36948;&#12375;&#12383;&#12425;</span>
            <span style="color: #a020f0;">self</span>.depth = <span style="color: #483d8b;">len</span>(<span style="color: #a020f0;">self</span>.buckets) <span style="color: #b22222;"># </span><span style="color: #b22222;">&#26368;&#22823;&#28145;&#12373;&#12395;&#12522;&#12475;&#12483;&#12488;</span>
        <span style="color: #a020f0;">return</span> node
</pre>
</div>

<p>
決定的アルゴリズムであるため分析が容易
</p>
</div>
</div>



<div id="outline-container-orgheadline30" class="outline-3">
<h3 id="orgheadline30"><span class="section-number-3">4.8</span> Forest / No-exhaust assumption による理論的結果</h3>
<div class="outline-text-3" id="text-4-8">
<p>
理論的結果:
</p>

<ul class="org-ul">
<li>仮定1: Plateau上のグラフが固定分岐数の森である (forest assumption)</li>
<li>仮定2: 探索中にどの深さのbucketも空にならない (no-exhaust assumption)</li>
<li>このとき、最大深さが$D$ならば、深さ$d$のbucket の展開回数は $D-d$に従う
<ul class="org-ul">
<li>$D-d$: <b>深さに対して線形</b></li>
<li>FIFO/LIFOは深さによる展開回数が指数的に異なる可能性あり</li>
</ul></li>
</ul>


<div class="figure">
<p><img src="img/static/depth-fifo-lifo-exponential.png" alt="depth-fifo-lifo-exponential.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline31" class="outline-3">
<h3 id="orgheadline31"><span class="section-number-3">4.9</span> 理論的結果と実験的結果の一致</h3>
<div class="outline-text-3" id="text-4-9">
<p>
実験的結果に一致 (上の仮定はある程度妥当):
</p>


<div class="figure">
<p><img src="img/static/depth-theory-practice.png" alt="depth-theory-practice.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline32" class="outline-3">
<h3 id="orgheadline32"><span class="section-number-3">4.10</span> 結果: <i>A*の性能をタイブレーキングを変えるだけで改善!!</i></h3>
<div class="outline-text-3" id="text-4-10">
<div class="org-center">
<p>
計1724問中, 1題あたり2GBメモリ制限,30分以内に解けた問題の数 (論文、表5.5.2)
</p>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">Fast Downward</th>
<th scope="col" class="org-center">提案手法</th>
</tr>

<tr>
<th scope="col" class="org-left">問題セット</th>
<th scope="col" class="org-center">State-of-the-Art 探索システム</th>
<th scope="col" class="org-center">(10回の平均)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">IPC<sup>1</sup> Instances (1104)</td>
<td class="org-center">558</td>
<td class="org-center"><b>571.4</b></td>
</tr>

<tr>
<td class="org-left">Zerocost Instances(680)</td>
<td class="org-center">256</td>
<td class="org-center"><b>288.1</b></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">合計 (1724)</td>
<td class="org-center">814</td>
<td class="org-center"><b>859.5</b> ( + 45)</td>
</tr>
</tbody>
</table>

<p>
IPC<sup>1</sup> : International Planning Competition で使われる 高次元グラフ探索ベンチマーク
</p>

<p>
IPC=(20〜50問)×(35種類の問題集) Zerocost=(20〜50問)×(28種類の問題集)
</p>

<p>
それぞれの問題集は全く異なる性質の <b>最適化問題をモデル化</b>
</p>

<p>
<b>問題番号が進むと 指数的に難しくなる</b>
</p>

<div class="alignright">
<div class="larger">
<p>
<b>45問 多く解ける = 速い</b>
</p>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline33" class="outline-3">
<h3 id="orgheadline33"><span class="section-number-3">4.11</span> まとめ (3,4章の貢献内容)</h3>
<div class="outline-text-3" id="text-4-11">
<ul class="org-ul">
<li><b>既存のタイブレーキングのきちんとした定量的評価</b>
<ul class="org-ul">
<li>論文にはさらに詳細な実験結果あり</li>
</ul></li>
<li><b>Final Plateauを詳細に分析</b>
<ul class="org-ul">
<li>深さに偏りがあるのは良くない</li>
</ul></li>
<li><b>乱択(RandomDepth)</b> 及び <b>決定的(IterativeDepth)</b> 深さ非局在化タイブレーク法
<ul class="org-ul">
<li><b><i>性能向上を達成</i></b></li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline48" class="outline-2">
<h2 id="orgheadline48"><span class="section-number-2">5</span> (5章) A* のタイブレークの一般化&#xa0;&#xa0;&#xa0;<span class="tag"><span class="4min">4min</span></span></h2>
<div class="outline-text-2" id="text-5">
<div class="larger">
<div class="org-center">
<p>
なぜ RandomDepth/IterativeDepth は成功したのか?
</p>
</div>

</div>
</div>

<div id="outline-container-orgheadline38" class="outline-3">
<h3 id="orgheadline38"><span class="section-number-3">5.1</span> A* の動作 (おさらい)</h3>
<div class="outline-text-3" id="text-5-1">

<div class="figure">
<p><img src="img/astar/astar1.png" alt="astar1.png" />
</p>
</div>
</div>

<div id="outline-container-orgheadline35" class="outline-4">
<h4 id="orgheadline35"><span class="section-number-4">5.1.1</span> A* の動作 (おさらい)</h4>
<div class="outline-text-4" id="text-5-1-1">

<div class="figure">
<p><img src="img/astar/astar2.png" alt="astar2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline36" class="outline-4">
<h4 id="orgheadline36"><span class="section-number-4">5.1.2</span> A* の動作 (おさらい)</h4>
<div class="outline-text-4" id="text-5-1-2">

<div class="figure">
<p><img src="img/astar/astar3.png" alt="astar3.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline37" class="outline-4">
<h4 id="orgheadline37"><span class="section-number-4">5.1.3</span> A* の動作 (おさらい)</h4>
<div class="outline-text-4" id="text-5-1-3">

<div class="figure">
<p><img src="img/astar/astar4.png" alt="astar4.png" />
</p>
</div>

<ul class="org-ul">
<li>解の最適性: 経路の <b>コストの和</b> が最小 → <b>経路の長さ</b> はいくら長くても良い</li>

<li>A*のplateau: 同じコストを持つノード集合 → <b>特にplateau内では</b> いくらでも長くて良い</li>
</ul>

<div class="alignright">
<div class="larger">
<ul class="org-ul">
<li>実は A* は <b>plateau内では(経路の長さを気にしない)充足解探索をしている</b> (充足解探索: 最短でなくて良い経路探索)</li>
</ul>

</div>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline43" class="outline-3">
<h3 id="orgheadline43"><span class="section-number-3">5.2</span> A* を <b>充足解探索の繰り返し</b> と再定義</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #a020f0;">while</span> true
    satisficing_search( plateau(f))
    <span style="color: #a020f0;">if</span> plateau (f) is SAT; <span style="color: #a020f0;">then</span>
       <span style="color: #a020f0;">return</span> solution
    <span style="color: #a020f0;">else</span>
       Increase f
</pre>
</div>

<ul class="org-ul">
<li>A* $[ f, \text{fifo} ]$: <b>知識なし幅優先探索 [fifo] を それぞれの plateau(f) で実行</b> , 故に遅い</li>
<li><p>
A* $[ f, h, \text{fifo} ]$: <b>GBFS (貪欲最良優先探索) [h, fifo] を それぞれの plateau(f) で実行</b>
</p>

<p>
　
</p>

<p>
GBFS (貪欲最良優先探索): 経路の充足解探索の基本的な手法
</p>

<p>
A* と同じくノードをOPENリストに保存。 ただし、 h が小さい順に展開 (f=g+h は用いない)
</p></li>
</ul>
</div>


<div id="outline-container-orgheadline39" class="outline-4">
<h4 id="orgheadline39"><span class="section-number-4">5.2.1</span> A* as 充足解探索</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #a020f0;">while</span> true
    satisficing_search( plateau(f))
    <span style="color: #a020f0;">if</span> plateau (f) is SAT; <span style="color: #a020f0;">then</span>
       <span style="color: #a020f0;">return</span> solution
    <span style="color: #a020f0;">else</span>
       Increase f
</pre>
</div>


<div class="figure">
<p><img src="img/sat/sat-astar1.png" alt="sat-astar1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline40" class="outline-4">
<h4 id="orgheadline40"><span class="section-number-4">5.2.2</span> A* as 充足解探索</h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #a020f0;">while</span> true
    satisficing_search( plateau(f))
    <span style="color: #a020f0;">if</span> plateau (f) is SAT; <span style="color: #a020f0;">then</span>
       <span style="color: #a020f0;">return</span> solution
    <span style="color: #a020f0;">else</span>
       Increase f
</pre>
</div>


<div class="figure">
<p><img src="img/sat/sat-astar2.png" alt="sat-astar2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline41" class="outline-4">
<h4 id="orgheadline41"><span class="section-number-4">5.2.3</span> A* as 充足解探索</h4>
<div class="outline-text-4" id="text-5-2-3">
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #a020f0;">while</span> true
    satisficing_search( plateau(f))
    <span style="color: #a020f0;">if</span> plateau (f) is SAT; <span style="color: #a020f0;">then</span>
       <span style="color: #a020f0;">return</span> solution
    <span style="color: #a020f0;">else</span>
       Increase f
</pre>
</div>


<div class="figure">
<p><img src="img/sat/sat-astar3.png" alt="sat-astar3.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline42" class="outline-4">
<h4 id="orgheadline42"><span class="section-number-4">5.2.4</span> A* as 充足解探索</h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="container-fluid">
<div class="row-fluid">
<div class="span7">
<div class="org-src-container">

<pre class="src src-bash"><span style="color: #a020f0;">while</span> true
    satisficing_search( plateau(f))
    <span style="color: #a020f0;">if</span> plateau (f) is SAT; <span style="color: #a020f0;">then</span>
       <span style="color: #a020f0;">return</span> solution
    <span style="color: #a020f0;">else</span>
       Increase f
</pre>
</div>

</div>
<div class="span5">
<p>
Implication: 
</p>
<div class="larger">
<ul class="org-ul">
<li><b>完全性を保つ充足解探索手法</b> であれば <b>なんでも</b> 最適解探索に埋め込める</li>
</ul>

</div>

</div>

</div>
<div class="row-fluid">
<div class="span7">

<div class="figure">
<p><img src="img/sat/sat-astar4.png" alt="sat-astar4.png" />
</p>
</div>

</div>
<div class="span5">
<div class="larger">
<ul class="org-ul">
<li>A* の <b>f</b> 値が許容的であれば、解は常に最適</li>
</ul>

</div>

</div>

</div>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline45" class="outline-3">
<h3 id="orgheadline45"><span class="section-number-3">5.3</span> 知見の応用: 無限グラフ上での A* の完全性</h3>
<div class="outline-text-3" id="text-5-3">
<p>
<b>無限グラフでのA*の完全性</b>: <b>有限コストの解が存在する場合、有限時間で発見する</b>
</p>

<ul class="org-ul">
<li><p>
<b>既存の証明は ゼロコスト問題では成り立たない</b>
</p>

<p>
Hart et al. (1968): <img src="img/hart-cost.png" alt="hart-cost.png" />
</p>

<p>
Dechter and Pearl (1985): <img src="img/static/pearl-cost.png" alt="pearl-cost.png" />
</p></li>

<li><p>
<b>理論的結果</b>: ゼロコスト問題でのA*の完全性はタイブレーキングに依存する
</p>

<p>
(P1) $f &lt; f^*$なる plateau(f) のサイズに上界がない時, A∗ は終了しない
</p>

<p>
(P2) $\forall f &lt; f^∗$でplateau(f) が有限である際
</p>

<ul class="org-ul">
<li>完全性は plateau(f*) でのタイブレークに依存</li>
</ul></li>
</ul>
</div>

<div id="outline-container-orgheadline44" class="outline-4">
<h4 id="orgheadline44"><span class="section-number-4">5.3.1</span> 無限グラフ上での A* の完全性</h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
(P2) $\forall f &lt; f^∗$でplateau(f) が有限である際
</p>

<p>
完全性は plateau(f*) でのタイブレークに依存
</p>

<p>
正しくは, <b>タイブレークのために用いられる充足解探索アルゴリズムの完全性に依存</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">条件</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">FIFO [f, fifo]</td>
<td class="org-left">最短経路解の深さ以下で分岐度が有限</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">→ なぜなら <b>幅優先探索[fifo]がそれを必要とするため</b></td>
</tr>

<tr>
<td class="org-left">LIFO [f, lifo]</td>
<td class="org-left">plateau(f*) が有限</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">→ なぜなら <b>深さ優先探索[fifo]がそれを必要とするため</b></td>
</tr>

<tr>
<td class="org-left">Random Order [f, ro]</td>
<td class="org-left">常に確率的完全</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">→ なぜなら <b>[ro] が無限グラフで確率的完全[Valenzano AAAI16]</b></td>
</tr>
</tbody>
</table>


<div class="org-center">
<ul class="org-ul">
<li><p>
<b>A*が充足解探索の繰り返しである と再定義することで、</b>
</p>

<p>
<b><i>充足解探索の理論的結果を最適解探索に援用可能!</i></b>
</p></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline46" class="outline-3">
<h3 id="orgheadline46"><span class="section-number-3">5.4</span> 最適解探索に充足解探索を「埋め込む」</h3>
<div class="outline-text-3" id="text-5-4">
<p>
最適解探索のタイブレークに充足解探索用の評価関数(FFヒューリスティック)を用いる
</p>

<p>
→充足解探索を「埋め込む」結果、大幅な性能向上
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">(論文、表5.5.4)</th>
<th scope="col" class="org-left">LMcut</th>
<th scope="col" class="org-left">M&amp;S</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">通常の手法 $[f,h,\text{lifo}]$</td>
<td class="org-left">844</td>
<td class="org-left">797</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">埋め込みあり</td>
<td class="org-left"><b>911.9</b></td>
<td class="org-left"><b>832.3</b></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline47" class="outline-3">
<h3 id="orgheadline47"><span class="section-number-3">5.5</span> まとめ (5章の貢献内容)</h3>
<div class="outline-text-3" id="text-5-5">
<ul class="org-ul">
<li>A* を <b>充足解探索の繰り返し</b> と再定義
<ul class="org-ul">
<li>この視点の利点:
<ul class="org-ul">
<li>充足解探索の理論的性質を、 <b>最適探索の理論的性質を調べる</b> のに利用</li>
<li><b>最適解探索に充足解探索を埋め込める</b>: <b><i>性能向上</i></b></li>
</ul></li>
</ul></li>

<li><p>
→ <b>充足解探索性能を上げれば最適解探索の性能も上がる</b>
</p>

<p>
以降 <b>充足解探索のみ考えることとする</b>
</p></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline61" class="outline-2">
<h2 id="orgheadline61"><span class="section-number-2">6</span> (6章) 充足解探索の タイブレーク と 探索非局在化手法 の統合&#xa0;&#xa0;&#xa0;<span class="tag"><span class="4min">4min</span></span></h2>
<div class="outline-text-2" id="text-6">
<dl class="org-dl">
<dt>GBFS  (貪欲最良優先探索) : 充足解探索手法の基本的アルゴリズム</dt><dd><p>
     評価関数 h によってノードをソートし、 h が最小のノードを展開
</p>

<p>
ただし、 h は <b>ゴールノードまでの距離の見積もり</b>
</p>

<p>
(A*と異なり、下界であることを保証しない: 非許容的)
</p></dd>

<dt>GBFSの <b>探索非局在化手法</b> とは</dt><dd><p>
     充足解探索は <b>非許容的 h</b> を使う ＝ <b>hが下界でない値を返すことがある</b>
</p>

<p>
GBFSはhを貪欲に信頼 → 既存の探索非局在化手法 は <b>hを無視して最悪ケースを回避</b>
</p></dd>
</dl>
</div>

<div id="outline-container-orgheadline49" class="outline-3">
<h3 id="orgheadline49"><span class="section-number-3">6.1</span> 背景</h3>
<div class="outline-text-3" id="text-6-1">
<p>
探索非局在化手法は <b>たくさん</b> ある
</p>

<ul class="org-ul">
<li>Diverse BFS (Imai, Kishimoto '11) &#x2014; 複雑な指標を使って探索を非局在化</li>
<li>Monte-Carlo Random Walk (MRW, Nakhost and Müller '09) &#x2014; 一定確率でランダムウォーク+様々な追加</li>
<li>Epsilon-greedy GBFS (Valenzano '14) &#x2014; 時々ノードを乱択</li>
<li>Type-based GBFS (Xie et al. '14) &#x2014; g, h の組を乱択、その中からさらに乱択</li>
<li>GBFS-LE (Xie et al. '14) &#x2014; h が向上しなくなった場合にランダムウォークを開始
<ul class="org-ul">
<li>GBFS-LS, GBFS-MRW</li>
</ul></li>
</ul>

<div class="larger">
<ul class="org-ul">
<li>が、アドホック手法が多い</li>
</ul>

<div class="org-center">
<ul class="org-ul">
<li>問題意識: <b>既存手法をより <i>単純に、解析しやすくする</i> 枠組みが必要</b></li>
</ul>
</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline57" class="outline-3">
<h3 id="orgheadline57"><span class="section-number-3">6.2</span> 既存の非局在化手法の背景にある考え : Heuristic Error</h3>
<div class="outline-text-3" id="text-6-2">
<p>
\[
   \text{Error} = |h - h^*|
\]
</p>

<p>
$h$: 下界値, $h^*$: パーフェクトヒューリスティクス (解までの真の最小経路コスト)
</p>

<p>
$h&lt;h^*$: Underestimation, $h&gt;h^*$: <b>Overestimation</b> : 下界でなくなる 
</p>

<div class="org-center">
<div class="larger">
<ul class="org-ul">
<li>Heuristic Error は <b>非局在化の理解には十分ではない</b></li>
</ul>

</div>
</div>
</div>

<div id="outline-container-orgheadline50" class="outline-4">
<h4 id="orgheadline50"><span class="section-number-4">6.2.1</span> Heuristic Error は</h4>
<div class="outline-text-4" id="text-6-2-1">

<div class="figure">
<p><img src="img/plateau/1.png" alt="1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline51" class="outline-4">
<h4 id="orgheadline51"><span class="section-number-4">6.2.2</span> Heuristic Error は</h4>
<div class="outline-text-4" id="text-6-2-2">

<div class="figure">
<p><img src="img/plateau/2.png" alt="2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline52" class="outline-4">
<h4 id="orgheadline52"><span class="section-number-4">6.2.3</span> Heuristic Error は 実は <b><i>二次元的</i></b></h4>
<div class="outline-text-4" id="text-6-2-3">

<div class="figure">
<p><img src="img/plateau/3.png" alt="3.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline53" class="outline-4">
<h4 id="orgheadline53"><span class="section-number-4">6.2.4</span> Plateau外 error (GBFSのPlateau: 同じh値のノード集合)</h4>
<div class="outline-text-4" id="text-6-2-4">

<div class="figure">
<p><img src="img/plateau/4.png" alt="4.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline54" class="outline-4">
<h4 id="orgheadline54"><span class="section-number-4">6.2.5</span> Plateau内 error (GBFSのPlateau: 同じh値のノード集合)</h4>
<div class="outline-text-4" id="text-6-2-5">

<div class="figure">
<p><img src="img/plateau/5.png" alt="5.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline55" class="outline-4">
<h4 id="orgheadline55"><span class="section-number-4">6.2.6</span> Plateau外 error &amp; 非局在化</h4>
<div class="outline-text-4" id="text-6-2-6">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/plateau/4s.png" alt="4s.png" />
</p>
</div>

</div>
<div class="span6">
<ul class="org-ul">
<li><p>
<b>最小の $h^*$を持つノードが</b>
</p>

<p>
<b>大きい $h$を持ちうる</b>
</p></li>
<li><b>高い $h$を 時折選ぶのも理にかなう</b></li>
<li><p>
GBFS は最小の $h$を常に選ぶ
</p>

<p>
→ <b>$h$の選択を非局在化</b>
</p></li>
<li>DBFS, Type-GBFS, $&epsilon;$-greedy</li>
</ul>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline56" class="outline-4">
<h4 id="orgheadline56"><span class="section-number-4">6.2.7</span> Plateau内 error &amp; 非局在化</h4>
<div class="outline-text-4" id="text-6-2-7">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/plateau/6s.png" alt="6s.png" />
</p>
</div>

</div>
<div class="span6">
<ul class="org-ul">
<li><b>どの $h$にも 大きな $h^*$を持つノードが混じっている</b></li>
<li><b>決定的なタイブレーク (FIFO/LIFO) はたまたま 大きな $h^*$ばかり選択する可能性がある</b></li>
<li><b>plateau内で探索を非局在化する</b> 事で <b>小さな $h^*$を引く可能性を高める</b></li>
</ul>

</div>

</div>

</div>

<div class="larger">
<div class="alignright">
<ul class="org-ul">
<li>仮説: <b>plateau内外のerrorは この図通りに直行している</b></li>
</ul>

</div>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline58" class="outline-3">
<h3 id="orgheadline58"><span class="section-number-3">6.3</span> 評価</h3>
<div class="outline-text-3" id="text-6-3">
<ul class="org-ul">
<li>IPC11, IPC14, 5min, 4GB</li>

<li><b>目的: 同じ非局在化手法を plateau内とplateau外で用いることで、plateau内/外 error が独立であることを示す</b></li>

<li><b>Type-GBFS</b> (Xie et al. '14) (plateau外) と <b>RandomDepth Tiebreaking</b> (plateau内) (かなり似た手法, ただしplateau内/外)

<ul class="org-ul">
<li>Type GBFS &#x2014; <b>Randomize &lt;g,h&gt;</b></li>

<li>RandomDepth &#x2014; <b>plateau内で Randomize &lt;d&gt;</b>

<ul class="org-ul">
<li>d ≡ 同じf,hを持つ最も近い先祖までのステップ数</li>
</ul></li>
</ul></li>
</ul>


<ul class="org-ul">
<li>結果: plateau <b>内 / 外</b> 非局在化だけで性能向上するドメインがある (論文の表6.3.1)</li>
<li>結果: それらに plateau <b>外 / 内</b> 非局在化を加えても悪影響がない → <b>効果は直行している</b></li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline59" class="outline-3">
<h3 id="orgheadline59"><span class="section-number-3">6.4</span> 内+外を同時に使うことでベンチマーク全体の成績が向上</h3>
<div class="outline-text-3" id="text-6-4">
<p>
(論文、表6.3.1)
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">GBFS</th>
<th scope="col" class="org-center">GBFS + 内</th>
<th scope="col" class="org-center">GBFS + 外</th>
<th scope="col" class="org-center">GBFS + 内 + 外</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">制限時間内に</td>
<td class="org-center">192</td>
<td class="org-center">208</td>
<td class="org-center">207.4</td>
<td class="org-center"><b>223.9</b></td>
</tr>

<tr>
<td class="org-left">解けた問題数</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline60" class="outline-3">
<h3 id="orgheadline60"><span class="section-number-3">6.5</span> まとめ (6章の貢献内容)</h3>
<div class="outline-text-3" id="text-6-5">
<ul class="org-ul">
<li>Plateau 内/外 error は <b>直行している</b>
<ul class="org-ul">
<li>したがって、Plateau 内/外 非局在化は常に両方を使うべきである</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline83" class="outline-2">
<h2 id="orgheadline83"><span class="section-number-2">7</span> (7章) 新たな非局在化手法の開発&#xa0;&#xa0;&#xa0;<span class="tag"><span class="4min">4min</span></span></h2>
<div class="outline-text-2" id="text-7">
<p>
<b>非局在化手法は評価関数に頼らない=知識なし(blind)探索手法</b> なので、
</p>

<p>
GBFS改善のためにはアドホックな手法ではなく
</p>

<div class="org-center">
<p>
<b>新たな知識なし探索手法=非局在化手法を考えるべき</b>
</p>
</div>

<blockquote>
<p>
Type GBFS: <b>Randomize &lt;g,h&gt;</b> g: 初期状態からのコスト, h: ゴールまでのコスト見積もり
</p>

<p>
RandomDepth &lt;d&gt; : d ≡ 同じf,hを持つ最も近い先祖までのステップ数
</p>

<p>
どちらも <b>探索ノードの深さに関連した指標</b> を非局在化
</p>
</blockquote>

<div class="larger">
<div class="org-center">
<p>
<b>探索の幅方向に非局在化する手法を提案</b>
</p>
</div>

</div>
</div>

<div id="outline-container-orgheadline71" class="outline-3">
<h3 id="orgheadline71"><span class="section-number-3">7.1</span> 既存の非局在化手法では失敗する例</h3>
<div class="outline-text-3" id="text-7-1">

<div class="figure">
<p><img src="img/model/original.png" alt="original.png" />
</p>
</div>
</div>

<div id="outline-container-orgheadline62" class="outline-4">
<h4 id="orgheadline62"><span class="section-number-4">7.1.1</span> FIFO (幅優先)</h4>
<div class="outline-text-4" id="text-7-1-1">

<div class="figure">
<p><img src="img/model/fifo1.png" alt="fifo1.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline63" class="outline-4">
<h4 id="orgheadline63"><span class="section-number-4">7.1.2</span> FIFO (幅優先)</h4>
<div class="outline-text-4" id="text-7-1-2">

<div class="figure">
<p><img src="img/model/fifo2.png" alt="fifo2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline64" class="outline-4">
<h4 id="orgheadline64"><span class="section-number-4">7.1.3</span> LIFO (深さ優先)</h4>
<div class="outline-text-4" id="text-7-1-3">

<div class="figure">
<p><img src="img/model/lifo1.png" alt="lifo1.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline65" class="outline-4">
<h4 id="orgheadline65"><span class="section-number-4">7.1.4</span> LIFO (深さ優先)</h4>
<div class="outline-text-4" id="text-7-1-4">

<div class="figure">
<p><img src="img/model/lifo2.png" alt="lifo2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline66" class="outline-4">
<h4 id="orgheadline66"><span class="section-number-4">7.1.5</span> LIFO (深さ優先)</h4>
<div class="outline-text-4" id="text-7-1-5">

<div class="figure">
<p><img src="img/model/lifo3.png" alt="lifo3.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline67" class="outline-4">
<h4 id="orgheadline67"><span class="section-number-4">7.1.6</span> Random</h4>
<div class="outline-text-4" id="text-7-1-6">

<div class="figure">
<p><img src="img/model/ro1.png" alt="ro1.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline68" class="outline-4">
<h4 id="orgheadline68"><span class="section-number-4">7.1.7</span> Random</h4>
<div class="outline-text-4" id="text-7-1-7">

<div class="figure">
<p><img src="img/model/ro2.png" alt="ro2.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline69" class="outline-4">
<h4 id="orgheadline69"><span class="section-number-4">7.1.8</span> Random-Depth</h4>
<div class="outline-text-4" id="text-7-1-8">

<div class="figure">
<p><img src="img/model/rd1.png" alt="rd1.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline70" class="outline-4">
<h4 id="orgheadline70"><span class="section-number-4">7.1.9</span> Random-Depth</h4>
<div class="outline-text-4" id="text-7-1-9">

<div class="figure">
<p><img src="img/model/rd2.png" alt="rd2.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline78" class="outline-3">
<h3 id="orgheadline78"><span class="section-number-3">7.2</span> Bond Invasion Percolation (Wilkinson, Willemsen, '83) (侵入型パーコレーション)</h3>
<div class="outline-text-3" id="text-7-2">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/static/ip.png" alt="ip.png" />
</p>
</div>

</div>
<div class="span6">
<div class="larger">
<ul class="org-ul">
<li><b>ランダムフラクタル</b></li>
<li><p>
液体が多孔質の物体に染みこむ動作のモデル
</p>

<p>
例:水が石油を含む岩石に浸透
</p>

<p>
bond = 辺 のこと
</p></li>
<li>これを用いてより <b>まばらに</b> 探索し、探索幅の問題を解決</li>
</ul>

</div>

</div>

</div>

</div>

<div class="note">
<p>
実応用: 石油資源開発
</p>

</div>
</div>

<div id="outline-container-orgheadline72" class="outline-4">
<h4 id="orgheadline72"><span class="section-number-4">7.2.1</span> BIP の生成 (知識なし)</h4>
<div class="outline-text-4" id="text-7-2-1">
<p>
重みがランダムなグラフ上の最小全域木(Prim法, Prim '57) と同一 (Barabasi 96)
</p>

<p>
最小全域木: グラフの全てのノードを含む木のうち辺の重みが最小のもの
</p>

<div class="org-src-container">

<pre class="src src-sh"><span style="color: #0000ff;">push</span>(init, OPEN, 0)

<span style="color: #a020f0;">while</span> (s = pop_min(OPEN)); <span style="color: #a020f0;">do</span>
   <span style="color: #a020f0;">if</span> s is visited:                  <span style="color: #b22222;"># </span><span style="color: #b22222;">&#37325;&#35079;&#26908;&#30693;</span>
     <span style="color: #a020f0;">continue</span>
   <span style="color: #a020f0;">for</span> (edge,t) <span style="color: #a020f0;">in</span> expand(s); <span style="color: #a020f0;">do</span>     <span style="color: #b22222;"># </span><span style="color: #b22222;">an edge &amp; successor t</span>

      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#12381;&#12428;&#12382;&#12428;&#12398;&#36794;&#12364;&#20516;&#12434;&#25345;&#12388;</span>
      <span style="color: #a020f0;">if</span> value(edge) is unset ; <span style="color: #a020f0;">then</span>
         value(edge) = random()      <span style="color: #b22222;"># </span><span style="color: #b22222;">&#27396;&#25968;&#20516;&#12434;&#21106;&#12426;&#24403;&#12390;</span>
      <span style="color: #a020f0;">fi</span>

      push(t, OPEN, value(edge))     <span style="color: #b22222;"># </span><span style="color: #b22222;">insert</span>
   <span style="color: #a020f0;">done</span>
<span style="color: #a020f0;">done</span>
</pre>
</div>

<p>
「ノードに入る辺の value(edge) の最小値」 が 最も小さいノードを展開する
</p>

<div class="larger">
<div class="org-center">
<ul class="org-ul">
<li><b>重要:</b> ランダム値は それぞれの辺に <b>固定</b> される (<b>再割当てされない</b>)</li>
</ul>
</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline73" class="outline-4">
<h4 id="orgheadline73"><span class="section-number-4">7.2.2</span> 固定されたランダム値のもたらす <b><i>遮蔽効果</i></b></h4>
<div class="outline-text-4" id="text-7-2-2">
<div class="container-fluid">
<div class="row-fluid">
<div class="span5">

<div class="figure">
<p><img src="img/percolation/embankment.png" alt="embankment.png" />
</p>
</div>

</div>
<div class="span7">
<div class="larger">
<ul class="org-ul">
<li><b><i>遮蔽</i> : 高い値を持った辺に囲まれたことによって一部の領域の探索が妨げられること</b></li>

<li><b>ランダム値の <i>固定</i> がフラクタルな性質を保つために必要</b></li>

<li><b><i>BIP != Random</i> (単なる乱数 = ノードが評価されるたびに別の値になる = 遮蔽が壊される)</b></li>
</ul>

</div>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline74" class="outline-4">
<h4 id="orgheadline74"><span class="section-number-4">7.2.3</span> BIP は最悪ケースを免れる</h4>
<div class="outline-text-4" id="text-7-2-3">

<div class="figure">
<p><img src="img/model/bip1.png" alt="bip1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline75" class="outline-4">
<h4 id="orgheadline75"><span class="section-number-4">7.2.4</span> BIP は最悪ケースを免れる</h4>
<div class="outline-text-4" id="text-7-2-4">

<div class="figure">
<p><img src="img/model/bip1-1.png" alt="bip1-1.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline76" class="outline-4">
<h4 id="orgheadline76"><span class="section-number-4">7.2.5</span> BIP は最悪ケースを免れる</h4>
<div class="outline-text-4" id="text-7-2-5">

<div class="figure">
<p><img src="img/model/bip2.png" alt="bip2.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline77" class="outline-4">
<h4 id="orgheadline77"><span class="section-number-4">7.2.6</span> BIP は最悪ケースを免れる</h4>
<div class="outline-text-4" id="text-7-2-6">

<div class="figure">
<p><img src="img/model/bip2-1.png" alt="bip2-1.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline79" class="outline-3">
<h3 id="orgheadline79"><span class="section-number-3">7.3</span> 知識なし探索での ノード展開の特性: 探索幅を減らす</h3>
<div class="outline-text-3" id="text-7-3">
<p>
深さ毎のノード展開数を計測
</p>

<p>
最悪ケースでの分析での説明に合致 (論文、図7.3.1)
</p>


<div class="figure">
<p><img src="img/percolation/width-reduction.png" alt="width-reduction.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline80" class="outline-3">
<h3 id="orgheadline80"><span class="section-number-3">7.4</span> 性能向上 (論文、表7.4.1)</h3>
<div class="outline-text-3" id="text-7-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">GBFS</th>
<th scope="col" class="org-center">GBFS+</th>
<th scope="col" class="org-center">GBFS+</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">深さ非局在化</th>
<th scope="col" class="org-center">幅非局在化</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">(内外)</th>
<th scope="col" class="org-center">(内外)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">制限時間内に</td>
<td class="org-center">192</td>
<td class="org-center">223.9</td>
<td class="org-center"><b>237.7</b></td>
</tr>

<tr>
<td class="org-left">解けた問題数</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline81" class="outline-3">
<h3 id="orgheadline81"><span class="section-number-3">7.5</span> State of the Art に対して性能向上 (論文、表7.5.1)</h3>
<div class="outline-text-3" id="text-7-5">
<p>
State of the Art ソルバ LAMA: GBFSに多数の変更を追加したもの
</p>

<p>
　
</p>

<div class="org-center">
<p>
<b>LAMAの成績をさらに改善</b>
</p>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />

<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">LAMA</th>
<th scope="col" class="org-center">LAMA</th>
<th scope="col" class="org-center">LAMA</th>
<th scope="col" class="org-center">LAMA</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">+深さ非局在化</th>
<th scope="col" class="org-center">+幅非局在化</th>
<th scope="col" class="org-center">+深さ非局在化</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">(内外)</th>
<th scope="col" class="org-center">(内外)</th>
<th scope="col" class="org-center">+幅非局在化</th>
</tr>

<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">(内外)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">制限時間内に</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>

<tr>
<td class="org-left">解けた問題数</td>
<td class="org-center">293.2</td>
<td class="org-center">295.4</td>
<td class="org-center">297.6</td>
<td class="org-center"><b>304.5</b></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgheadline82" class="outline-3">
<h3 id="orgheadline82"><span class="section-number-3">7.6</span> まとめ (7章の貢献内容)</h3>
<div class="outline-text-3" id="text-7-6">
<ul class="org-ul">
<li>LIFO, FIFO, Random だけでなく Random/IterativeDepth でも失敗するケースがある</li>
<li>BIP: 深さ方向に非局在化するだけではなく、幅方向にも非局在化する</li>
<li><b>探索幅を減らし, 性能向上 (実験的に確認)</b></li>
<li><b>深さ非局在化と併用してState of the Artを改善</b></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgheadline84" class="outline-2">
<h2 id="orgheadline84"><span class="section-number-2">8</span> 博士論文の貢献</h2>
<div class="outline-text-2" id="text-8">
<p>
A*のタイブレークのより完全な分析 (3章)
</p>

<p>
→ 非局在化タイブレークによる A* の高速化 (4章)
</p>

<p>
最適解探索のタイブレークの一般化 (5章)
</p>

<p>
→ 最適解探索を充足解探索の繰り返しに変換:
</p>

<p>
→ <b>最適解探索を分析・改善するシンプルな枠組み</b>
</p>

<p>
充足解探索の タイブレーク手法 と 探索非局在化手法 の統合 (6章)
</p>

<p>
→ <b>非局在化手法は知識なし(乱択化)探索手法</b>
</p>

<p>
→ <b>最良優先探索( A^＊ ,GBFS)を分析・改善するシンプルな枠組み</b>
</p>

<p>
フラクタル・最小全域木を用いた新たな非局在化手法 (7章)
</p>

<p>
→ <b>新たな知識なし探索手法で性能向上</b> → <b>新たな枠組みの有効性を実証</b>
</p>

<div class="org-center">
<p>
主題と目標: <b><i>大規模グラフ探索における 非局在化手法の開発・分析</i></b>
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline96" class="outline-2">
<h2 id="orgheadline96"><span class="section-number-2">9</span> 付録 (実験結果)</h2>
<div class="outline-text-2" id="text-9">
</div><div id="outline-container-orgheadline87" class="outline-3">
<h3 id="orgheadline87"><span class="section-number-3">9.1</span> A* RandomDepth タイブレーク 評価</h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li>IPC<sup>1</sup> 問題集 (20〜50問)×(35種類)
<ul class="org-ul">
<li>元のドメインはアクションの数だけを数える→非現実的</li>
</ul></li>
<li><b>Zero-cost</b> 問題集 (620 instances, 28 domains)
<ul class="org-ul">
<li>IPC<sup>1</sup> を <b>資源消費最適化問題</b> 改変したもの。例:
<ul class="org-ul">
<li>Woodworking ドメイン: 元問題:最短工程を探索→ 木材消費の最適化</li>
<li>Driverslog (運送ドメイン): 最短工程 → 燃料消費の最適化</li>
</ul></li>
<li>IPCの問題集には歴史的経緯から全ての辺のコストが1のドメインが多い(非現実的)</li>
<li>提案したZero-cost 問題集のほうが <b>より現実的</b></li>
</ul></li>
</ul>

<div class="note">
<p>
1 &#x2013; IPC : International Planning Competition
</p>

</div>
</div>

<div id="outline-container-orgheadline85" class="outline-4">
<h4 id="orgheadline85"><span class="section-number-4">9.1.1</span> 評価 (制限時間内に解けた問題の数)</h4>
<div class="outline-text-4" id="text-9-1-1">
<div class="smaller">
<p>
LMcut, Merge-and-Shrink(M&amp;S) : state-of-the-art ヒューリスティック関数
</p>

<p>
［h, RD, RO］ は 10回の平均
</p>

</div>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-center" />

<col  class="org-center" />
</colgroup>

<colgroup>
<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">［h, FIFO］</th>
<th scope="col" class="org-center">［h, LIFO］</th>
<th scope="col" class="org-center">［h, RD, RO］</th>
</tr>

<tr>
<th scope="col" class="org-left">Domain Set</th>
<th scope="col" class="org-center">(FD Default)</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">(Proposed)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">IPC Instances (1104)</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Zerocost Instances(680)</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>

<tr>
<td class="org-left">Sum(1724)</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
<td class="org-center">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline86" class="outline-4">
<h4 id="orgheadline86"><span class="section-number-4">9.1.2</span> 評価 (制限時間内に解けた問題の数)</h4>
<div class="outline-text-4" id="text-9-1-2">
<div class="smaller">
<p>
LMcut : state-of-the-art ヒューリスティック関数
</p>

<p>
［h, RD, RO］ は 10回の平均
</p>

</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>

<colgroup>
<col  class="org-center" />

<col  class="org-center" />
</colgroup>

<colgroup>
<col  class="org-center" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-center">［h, FIFO］</th>
<th scope="col" class="org-center">［h, LIFO］</th>
<th scope="col" class="org-center">［h, RD, RO］</th>
</tr>

<tr>
<th scope="col" class="org-left">Domain Set</th>
<th scope="col" class="org-center">(FD Default)</th>
<th scope="col" class="org-center">&#xa0;</th>
<th scope="col" class="org-center">(Proposed)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">IPC Instances (1104)</td>
<td class="org-center">558</td>
<td class="org-center">565</td>
<td class="org-center"><b>572.8</b> (↑ 14.8)</td>
</tr>

<tr>
<td class="org-left">Zerocost Instances(680)</td>
<td class="org-center">256</td>
<td class="org-center">279</td>
<td class="org-center"><b>294.2</b> (↑ 38.2)</td>
</tr>

<tr>
<td class="org-left">Sum(1724)</td>
<td class="org-center">814</td>
<td class="org-center">844</td>
<td class="org-center"><b>867.0</b> (↑ 53.0)</td>
</tr>
</tbody>
</table>

<div class="alignright">
<p>
<b>［h, RD, RO］ は [h,FIFO] と [h,LIFO] より圧倒的に良い!</b>
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline91" class="outline-3">
<h3 id="orgheadline91"><span class="section-number-3">9.2</span> A*に他の充足解探索を埋め込んで実験: 性能向上</h3>
<div class="outline-text-3" id="text-9-2">
<dl class="org-dl">
<dt>通常のA*</dt><dd>$[f, h,$  * $]\;$, ただし * は LIFO, FIFO, Random のいずれか</dd>

<dt>ユニットコスト化した 許容的下界関数 $\hat{h}\;$でタイブレーク : 辺コストを1で置き換えて計算 (充足解ソルバLAMA[Richter et.al.]などが使用している手法)</dt><dd><p>
       $[f=g+h, \hat{h}, * ]$, $[f, h, \hat{h}, * ]$の二種類。 &#x2013; ただし、同じ下界関数を $h$と $\hat{h}$の二回計算するので遅い
</p>

<p>
ユニットコスト化下界関数は許容的ではない関数
</p>

<p>
実験の目的: 純粋にユニットコスト化しただけで得られる性能向上を計測
</p></dd>

<dt>ユニットコスト化した 非許容的下界関数 $\hat{h}^{FF}$でタイブレーク</dt><dd>$[f, \hat{h}^{FF}, *]$, $[f, h, \hat{h}^{FF}, * ]$&#x2013; cheaper, non-path-optimal heuristics</dd>

<dt>$\hat{h}^{FF}$に random depth を組合せ</dt><dd>$[f, \hat{h}^{FF}, \langle d \rangle$, * $]$</dd>
</dl>
</div>

<div id="outline-container-orgheadline88" class="outline-4">
<h4 id="orgheadline88"><span class="section-number-4">9.2.1</span> Evaluation ($h=\text{LMcut}$, Zerocost domains)</h4>
<div class="outline-text-4" id="text-9-2-1">
<p>
5min, 4GB, 前章と同じ
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">＊=FIFO</th>
<th scope="col" class="org-right">＊=LIFO</th>
<th scope="col" class="org-right">＊=Random</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">$[f,h,*]$</td>
<td class="org-right">256</td>
<td class="org-right">279</td>
<td class="org-right">261.9</td>
</tr>

<tr>
<td class="org-left">$[f,h,\langle d \rangle,*]$</td>
<td class="org-right">284</td>
<td class="org-right">264</td>
<td class="org-right">288.1</td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h},*]$</td>
<td class="org-right">295</td>
<td class="org-right">303</td>
<td class="org-right">301.0</td>
</tr>

<tr>
<td class="org-left">$[f,h,\hat{h},*]$</td>
<td class="org-right">305</td>
<td class="org-right">309</td>
<td class="org-right">305.9</td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h}^{FF},*]$</td>
<td class="org-right">337</td>
<td class="org-right">340</td>
<td class="org-right">341</td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h}^{FF},\langle d \rangle,*]$</td>
<td class="org-right"><b>340</b></td>
<td class="org-right"><b>342</b></td>
<td class="org-right"><b>344.3</b></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">(+80)</td>
<td class="org-right">(+60)</td>
<td class="org-right">(+80)</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgheadline89" class="outline-4">
<h4 id="orgheadline89"><span class="section-number-4">9.2.2</span> Evaluation ($h=\text{M&amp;S}$, Zerocost domains)</h4>
<div class="outline-text-4" id="text-9-2-2">
<p>
5min, 4GB, 前章と同じ
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">＊=FIFO</th>
<th scope="col" class="org-right">＊=LIFO</th>
<th scope="col" class="org-right">＊=Random</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">$[f,h,*]$</td>
<td class="org-right">280</td>
<td class="org-right">301</td>
<td class="org-right">287.7</td>
</tr>

<tr>
<td class="org-left">$[f,h,\langle d \rangle,*]$</td>
<td class="org-right">302</td>
<td class="org-right">288</td>
<td class="org-right">308.1</td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h},*]$</td>
<td class="org-right">308</td>
<td class="org-right">305</td>
<td class="org-right">307.3</td>
</tr>

<tr>
<td class="org-left">$[f,h,\hat{h},*]$</td>
<td class="org-right">307</td>
<td class="org-right">306</td>
<td class="org-right">307.8</td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h}^{FF},*]$</td>
<td class="org-right">336</td>
<td class="org-right">331</td>
<td class="org-right"><span class="underline">337.9</span></td>
</tr>

<tr>
<td class="org-left">$[f,\hat{h}^{FF},\langle d \rangle,*]$</td>
<td class="org-right"><b>337</b></td>
<td class="org-right"><b>333</b></td>
<td class="org-right"><span class="underline">337.6</span></td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">(+50)</td>
<td class="org-right">(+30)</td>
<td class="org-right">(+50)</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgheadline90" class="outline-4">
<h4 id="orgheadline90"><span class="section-number-4">9.2.3</span> 下界関数を二個評価する場合を減らすために動的に切り替え</h4>
<div class="outline-text-4" id="text-9-2-3">
<p>
$[f=g+h, \hat{h}^{FF}]$&#x2014; $h$と $\hat{h}^{FF}$の2つの下界関数を評価
</p>

<ul class="org-ul">
<li>これが役に立つのはplateauが巨大な場合のみ (特にゼロコスト問題)</li>

<li>ゼロコストでない場合には通常の方式にきりかえれば無駄な評価を避けられる</li>
</ul>

<p>
IPC+Zerocost results
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Single heuristics</b></th>
<th scope="col" class="org-left">LMcut</th>
<th scope="col" class="org-left">M&amp;S</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">A $[f,h,\text{lifo}]$</td>
<td class="org-left">844</td>
<td class="org-left">797</td>
</tr>

<tr>
<td class="org-left">B $[f,h,\langle d \rangle,\text{lifo}]$</td>
<td class="org-left">839</td>
<td class="org-left">775</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Multi heuristics</b></td>
<td class="org-left">LMcut</td>
<td class="org-left">M&amp;S</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">C $[f,\hat{h}^{FF},\langle d \rangle,\text{Random}]$</td>
<td class="org-left">906.2</td>
<td class="org-left">794.4</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Dynamic Configuration</td>
<td class="org-left">LMcut</td>
<td class="org-left">M&amp;S</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">If ゼロコストがある場合: C ; Else B</td>
<td class="org-left"><b>911.9</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">If ゼロコストがある場合: C ; Else A</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><b>832.3</b></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgheadline92" class="outline-3">
<h3 id="orgheadline92"><span class="section-number-3">9.3</span> GBFS plateau内/外 error は 独立: 実験</h3>
<div class="outline-text-3" id="text-9-3">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/icaps17-results.png" alt="icaps17-results.png" />
</p>
</div>

</div>
<div class="span6">
<dl class="org-dl">
<dt>hd (RandomDepth)</dt><dd>plateau内で Randomize &lt;d&gt;</dd>
<dt>hD (Type GBFS)</dt><dd>Randomize &lt;g,h&gt;</dd>
<dt>hdD</dt><dd><b><i>RandomDepth + Type GBFS</i></b></dd>
</dl>

<p>
結果:
</p>

<ul class="org-ul">
<li>ドメインごとに plateau内 と plateau外 非局在化 の影響の有無が 綺麗に別れる</li>
<li><b>同時に使うことで <i>効果が綺麗に重なる</i></b></li>
<li><span class="underline"><i>plateau内外は独立だから、非局在化手法は、内外に同時に使うべし!</i></span></li>
</ul>

</div>

</div>

</div>
</div>
</div>

<div id="outline-container-orgheadline94" class="outline-3">
<h3 id="orgheadline94"><span class="section-number-3">9.4</span> GBFS+BIP 評価</h3>
<div class="outline-text-3" id="text-9-4">
<div class="container-fluid">
<div class="row-fluid">
<div class="span6">

<div class="figure">
<p><img src="img/icaps17-results2.png" alt="icaps17-results2.png" />
</p>
</div>

</div>
<div class="span6">
<ul class="org-ul">
<li><b>hb</b> : <b>plateau内BIP</b> ([h, BIP, *])</li>
<li><b>hB</b> : <b>plateau外BIP</b> (<b>alt</b> ([BIP], [h,*]))</li>
<li><b>hbB</b> : <b>同時使用</b> (<b>alt</b> ([BIP], [h,BIP,*]) )</li>
<li><b>hdD</b> : <b>RandomDepth + Type GBFS</b></li>
<li><span class="underline"><i>plateau内外errorの直交性</i></span> を再び観測</li>
<li>vs hdD (深さベースの非局在化): 同じぐらい効果的
<ul class="org-ul">
<li>性能向上は <b>異なるドメイン</b> で発生</li>
<li>hdD は <b>深さ</b>, hbB は <b>幅</b> 非局在化するから</li>
</ul></li>
</ul>

</div>

</div>

</div>
</div>

<div id="outline-container-orgheadline93" class="outline-4">
<h4 id="orgheadline93"><span class="section-number-4">9.4.1</span> VS. State-of-the-Art</h4>
<div class="outline-text-4" id="text-9-4-1">
<div class="container-fluid">
<div class="row-fluid">
<div class="span7">

<div class="figure">
<p><img src="img/icaps17-results3.png" alt="icaps17-results3.png" />
</p>
</div>

</div>
<div class="span5">
<ul class="org-ul">
<li>db<sup>2</sup> DB : (各イテレーション毎) plateau外非局在化に D,B をに切り替え ; plateau内に d,b を切り替え</li>
<li><b>深さ (d,D)</b> と <b>幅 (b,B)</b> で別の効果があるから</li>
<li>効果がうまく重なりあって state of the art (LAMA) の性能を向上</li>
</ul>

</div>

</div>

</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline95" class="outline-3">
<h3 id="orgheadline95"><span class="section-number-3">9.5</span> MTCSの分析をなぜしない?</h3>
<div class="outline-text-3" id="text-9-5">
<p>
MTCS はプランニングではうまく行っていない。その理由を調べるのは議論の範囲外
</p>

<p>
THTS (Schulte and Keller, 2014) &#x2014; プランニング向けのMCTS. 性能向上はわずか
</p>

<p>
例: 解けた問題数
</p>

<p>
GBFS328→THTS-WA* 344 (4%向上), 私の提案手法は GBFS192→237.7 (20%向上) (ベースラインは違う)
</p>

<p>
↑しかもこのGBFSは THTS上でのGBFSのエミュレーション
</p>

<p>
(著者はTHTS+A*,THTS+UCTのような様々なバージョンを提案, しかも THTS+UCT は THTS+WA* に負けている)
</p>

<p>
ランダムウォーク自体は成功例がある。が、かなりad-hocな手法
</p>

<p>
Arvand (Nakhost 2009,2010) &#x2014; 適応的(長さ可変)ランダムウォーク+etc.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Masataro Asai</p>
<p class="date">Created: 2020-03-30 月 23:11</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
